@import 'tailwindcss';

/* Importar tokens primero */
@import '../tokens/theme-tokens.css';
@import '../themes/themes.css';

@theme {
  /* ============================================
     DARK MODE
     ============================================ */
  --dark: .dark;

  /* ============================================
     COLOR MAPPING - Material → Tailwind
     Usa las variables de Material como fuente única
     ============================================ */

  /* Surfaces */
  --color-background: var(--mat-sys-background);
  --color-surface: var(--mat-sys-surface);
  --color-surface-dim: var(--mat-sys-surface-dim);
  --color-surface-bright: var(--mat-sys-surface-bright);
  --color-surface-container-lowest: var(--mat-sys-surface-container-lowest);
  --color-surface-container-low: var(--mat-sys-surface-container-low);
  --color-surface-container: var(--mat-sys-surface-container);
  --color-surface-container-high: var(--mat-sys-surface-container-high);
  --color-surface-container-highest: var(--mat-sys-surface-container-highest);

  /* Text */
  --color-on-surface: var(--mat-sys-on-surface);
  --color-on-surface-variant: var(--mat-sys-on-surface-variant);

  /* Primary */
  --color-primary: var(--mat-sys-primary);
  --color-on-primary: var(--mat-sys-on-primary);
  --color-primary-container: var(--mat-sys-primary-container);
  --color-on-primary-container: var(--mat-sys-on-primary-container);

  /* Secondary */
  --color-secondary: var(--mat-sys-secondary);
  --color-on-secondary: var(--mat-sys-on-secondary);
  --color-secondary-container: var(--mat-sys-secondary-container);
  --color-on-secondary-container: var(--mat-sys-on-secondary-container);

  /* Tertiary */
  --color-tertiary: var(--mat-sys-tertiary);
  --color-on-tertiary: var(--mat-sys-on-tertiary);

  /* Error */
  --color-error: var(--mat-sys-error);
  --color-on-error: var(--mat-sys-on-error);

  /* Outline */
  --color-outline: var(--mat-sys-outline);
  --color-outline-variant: var(--mat-sys-outline-variant);

  /* ============================================
     SPACING - Alineado con Material
     ============================================ */

  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 24px;
  --spacing-2xl: 32px;
  --spacing-3xl: 48px;

  /* ============================================
     BORDER RADIUS - Usa tokens de Material
     ============================================ */

  --radius-xs: var(--mat-sys-corner-extra-small);
  --radius-sm: var(--mat-sys-corner-small);
  --radius-md: var(--mat-sys-corner-medium);
  --radius-lg: var(--mat-sys-corner-large);
  --radius-xl: var(--mat-sys-corner-extra-large);
  --radius-full: var(--mat-sys-corner-full);

  /* ============================================
     SHADOWS - Usa elevaciones de Material
     ============================================ */

  --shadow-xs: var(--mat-sys-level1);
  --shadow-sm: var(--mat-sys-level1);
  --shadow-md: var(--mat-sys-level2);
  --shadow-lg: var(--mat-sys-level3);

  /* ============================================
     TRANSITIONS - Usa motion de Material
     ============================================ */

  --transition-duration-fast: var(--mat-sys-motion-duration-short);
  --transition-duration-base: var(--mat-sys-motion-duration-medium);
  --transition-duration-slow: var(--mat-sys-motion-duration-long);

  --transition-timing-function: var(--mat-sys-motion-easing-standard);
  --transition-timing-emphasized: var(--mat-sys-motion-easing-emphasized);

  /* ============================================
     GRAY SCALE - Neutral palette
     ============================================ */

  --color-gray-50: light-dark(#09090b, #fafafa);
  --color-gray-100: light-dark(#18181b, #f4f4f5);
  --color-gray-200: light-dark(#27272a, #e4e4e7);
  --color-gray-300: light-dark(#3f3f46, #d4d4d8);
  --color-gray-400: light-dark(#52525b, #a1a1aa);
  --color-gray-500: #71717a;
  --color-gray-600: light-dark(#a1a1aa, #52525b);
  --color-gray-700: light-dark(#d4d4d8, #3f3f46);
  --color-gray-800: light-dark(#e4e4e7, #27272a);
  --color-gray-900: light-dark(#fafafa, #18181b);

  /* ============================================
     SEMANTIC COLORS - Para componentes específicos
     ============================================ */

  --color-success: light-dark(#16a34a, #22c55e);
  --color-warning: light-dark(#ea580c, #fb923c);
  --color-info: light-dark(#0891b2, #06b6d4);
}

/* ============================================
   UTILITIES
   ============================================ */

@layer utilities {
  /* Surface utilities */
  .surface {
    background-color: var(--color-surface);
    color: var(--color-on-surface);
  }

  .surface-container {
    background-color: var(--color-surface-container);
    color: var(--color-on-surface);
  }

  .surface-container-low {
    background-color: var(--color-surface-container-low);
    color: var(--color-on-surface);
  }

  .surface-container-high {
    background-color: var(--color-surface-container-high);
    color: var(--color-on-surface);
  }

  /* State layers */
  .state-hover {
    position: relative;
  }

  .state-hover::before {
    content: '';
    position: absolute;
    inset: 0;
    background: currentColor;
    opacity: 0;
    transition: opacity var(--transition-duration-fast) var(--transition-timing-function);
    pointer-events: none;
  }

  .state-hover:hover::before {
    opacity: var(--mat-sys-hover-state-layer-opacity);
  }

  /* CROWN System - Custom utilities for Credit Accounts module */
  .badge-primary {
    @apply bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-warning {
    @apply bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-error {
    @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
    @apply px-2 py-0.5 rounded-full text-xs font-medium;
  }

  /* Card hover effect */
  .card-hover {
    @apply transition-all duration-200;
  }

  .card-hover:hover {
    @apply shadow-lg;
  }

  /* Active menu item */
  .active-menu-item {
    @apply bg-indigo-50 dark:bg-indigo-900/20;
    @apply border-l-4 border-indigo-500;
  }

  /* Professional shadow effect */
  .shadow-professional {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .dark .shadow-professional {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
}
