<mat-sidenav-container
  class="sidenav-container bg-white dark:bg-gray-900 text-black dark:text-white"
>
  <!-- Navigation Sidenav (Left) -->
  <mat-sidenav
    #drawer
    class="sidenav overflow-hidden [--mat-sidenav-container-shape:0] rounded-none!"
    fixedInViewport
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false"
  >
    @if (effectiveLayout() === 'classic') {
    <div navHeader class="flex justify-between items-center p-4 pb-1">
      <app-logo [width]="40" [height]="40" [showText]="true" />
    </div>
    <nav-classic [navItems]="navItems" />

    } @else if (effectiveLayout() === 'dense') {
    <div navHeader class="flex justify-center items-center p-4">
      <app-logo [width]="32" [height]="32" [showText]="false" />
    </div>
    <nav-dense [navItems]="navItems" />
    }
  </mat-sidenav>

  <mat-sidenav
    #settings
    class="overflow-hidden [--mat-sidenav-container-shape:0] rounded-none!"
    position="end"
    mode="over"
    ><app-settings
      #settingsPanel
      [class]="'theme-' + configService.themeColor()"
      [currentLayout]="effectiveLayout()"
      [availableLayouts]="configService.availableLayouts"
      [availableThemes]="configService.availableColors"
      (layoutChange)="setLayout($event)"
      (themeChange)="setTheme($event)"
      (schemeChange)="setThemeMode($event)"
  /></mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar class="shadow-sm z-50">
      <button type="button" mat-icon-button (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>

      <span class="flex-1"></span>

      <!-- Settings Button -->
      <button mat-icon-button (click)="settings.open()" aria-label="Open settings">
        <mat-icon>settings</mat-icon>
      </button>
    </mat-toolbar>

    <div class="content-scroll">
      <div class="content-inner">
        <div class="mx-auto">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
