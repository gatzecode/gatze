<div class="flex flex-col items-center justify-center flex-auto min-w-0 min-h-screen p-4">
  <div class="flex flex-col w-full max-w-80 sm:w-80 mx-auto sm:mx-0">
    <!-- Logo -->
    <div class="group cursor-pointer">
      <img src="./images/logo/logo.svg" alt="Logo" />
    </div>

    <!-- Title -->
    <div class="mt-8 text-4xl font-extrabold tracking-tight leading-tight">Sign in</div>
    <div class="flex items-baseline mt-0.5 font-medium">
      <div>Don't have an account?</div>
      <a class="ml-1 text-primary-500 hover:underline" [routerLink]="['/sign-up']">Sign up </a>
    </div>

    <!-- Dynamic Alert -->
    @if (showAlert) {
    <div class="mt-8">
      {{ alert.message }}
    </div>
    }

    <!-- Sign in form -->
    <form class="mt-8" [formGroup]="signInForm" #signInNgForm="ngForm">
      <!-- Email field -->
      <mat-form-field class="w-full" [appearance]="'outline'">
        <mat-label>Email address</mat-label>
        <input id="email" matInput [formControlName]="'email'" />

        @if (signInForm.get('email')?.hasError('required')) {
        <mat-error>Email address is required</mat-error>
        } @if (signInForm.get('email')?.hasError('email')) {
        <mat-error>Please enter a valid email address</mat-error>
        }
      </mat-form-field>

      <!-- Password field -->
      <mat-form-field class="w-full" [appearance]="'outline'">
        <mat-label>Password</mat-label>
        <input
          id="password"
          matInput
          type="password"
          [formControlName]="'password'"
          #passwordField
        />
        <button
          mat-icon-button
          type="button"
          (click)="
            passwordField.type === 'password'
              ? (passwordField.type = 'text')
              : (passwordField.type = 'password')
          "
          matSuffix
        >
          @if (passwordField.type === 'password') {
          <mat-icon>visibility</mat-icon>
          } @else {
          <mat-icon>visibility_off</mat-icon>
          }
        </button>
        <mat-error>Password is required</mat-error>
      </mat-form-field>

      <!-- Actions -->
      <div class="inline-flex items-center justify-between w-full mt-1.5">
        <mat-checkbox class="-ml-2" [color]="'primary'" [formControlName]="'rememberMe'">
          Remember me
        </mat-checkbox>
        <a
          class="text-md font-medium text-primary-500 hover:underline"
          [routerLink]="['/forgot-password']"
          >Forgot password?
        </a>
      </div>

      <!-- Submit button -->
      <button
        class="Gatze-mat-button-large w-full mt-6"
        mat-flat-button
        [color]="'primary'"
        [disabled]="signInForm.disabled"
        (click)="signIn()"
      >
        @if (!signInForm.disabled) {
        <span>Sign in</span>
        } @else {
        <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'"></mat-progress-spinner>
        }
      </button>
    </form>
  </div>
</div>
